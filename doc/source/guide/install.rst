Installing GAP
==============

Prerequisites
-------------

To compile and use GAP, you need the following facilities installed on your workstation or cluster

* GNU ``make``
* libtools such as ``ar``, ``ranlib`` etc.
* GNU Bison and a C compiler for compiling the parser library ``libparser``.
* a Fortran compiler for the main program.
* an MPI fortran compiler to compile the MPI version of the program.
* LAPACK and BLAS libraries, compiled with the same Fortran compiler.

Additionally, Python (>=2.7 or >=3.6) are necessary to use the scripts for band analysis.


Installation
-----------

To install GAP, the following steps should be followed.

1. Modify "make.inc" to specify the prerequisites according to the target system
   
   The templates for the following architectures have been provided

   * Linux
   * SunOS
   * AIX

2. Setup the LAPACK and BLAS library for the ``LAPACK`` macro in "make.inc"

3. The sequential executable need to be first generated by

   .. code-block:: shell

      $ make seq

   and then parallel version (only subroutines related to parallelization are recompiled) 

   .. code-block:: shell

      $ make para

   By default, the excutables for the sequential and parallel version are ``gap{ver}.x`` and ``gap{ver}-mpi.x``, respectively.
   ``ver`` is the version number, e.g. ``2c``, ``3a``.

4. Modify the alias ``AWK`` in ``gap<ver>_init`` if necessary (as on SunOS) 

   In some systems like SunOS, ``awk`` does not support ``-v < variable = value >`` but ``nawk`` does. 
   In that case, one should change alias for ``nawk`` in ``gap<ver>_init``

